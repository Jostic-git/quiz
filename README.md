**about** <br>
Задача: спроектировать и разработать API для системы опросов пользователей.
Функционал для администратора системы:

- авторизация в системе (регистрация не нужна)
- добавление/изменение/удаление опросов. Атрибуты опроса: название, дата старта, дата окончания, описание. После создания поле "дата старта" у опроса менять нельзя
- добавление/изменение/удаление вопросов в опросе. Атрибуты вопросов: текст вопроса, тип вопроса (ответ текстом, ответ с выбором одного варианта, ответ с выбором нескольких вариантов)

Функционал для пользователей системы:
- получение списка активных опросов
- прохождение опроса: опросы можно проходить анонимно, в качестве идентификатора пользователя в API передаётся числовой ID, по которому сохраняются ответы пользователя на вопросы; один пользователь может участвовать в любом количестве опросов
- получение пройденных пользователем опросов с детализацией по ответам (что выбрано) по ID уникальному пользователя

Использовать следующие технологии: Django 2.2.10, Django REST framework.

Результат выполнения задачи:
- исходный код приложения в github (только на github, публичный репозиторий)
- инструкция по разворачиванию приложения (в docker или локально)
- документация по API

#install
!!!Внимание, в коде используются фичи python 3.8, поэтому может не работать на версиях ниже!!!

1. Установите зависимости спользуя pip install -r req.txt
2. создайте супер пользователя manage.py createsuperuser (далее по подсказкам)
3. запустите manage.py runserver



Добавление новых пользователей доступно из админки
http://127.0.0.1:8000/admin

#API documentation
1 - Авторизация для админской части реализована по токену
получение токена:
http://127.0.0.1:8000/auth/token/login
Пример запроса <br>
{<br>
        "username": admin,<br>
        "password": "adminpassword"<br>
}

для запросов с авторизацией в header запроса (key: Authorization - Token полученный token)

2 - Опросники

Создание (метод POST):
http://127.0.0.1:8000/api/v1/survey/ <br>  
{<br>
        "title": "Певый опросник",<br>
        "dateStart": "2020-06-27T13:03:14.137266Z",<br>
        "dateEnd": null,<br>
        "description": "описание"<br>
    }<br>
   
Изменение (метод PUT):
http://127.0.0.1:8000/api/v1/survey/1/

{<br>
        "title": "Второй опросник",<br>
        "dateStart": "2020-06-27T13:03:14.137266Z",<br>
        "dateEnd": null,<br>
        "description": "Второе описание"<br>
    }<br>
dateStart - поле защищено от изменения, при попытке изменения, значение будт оставаться, то, которое было присвоено при создании

Удаление (метод DELETE)
http://127.0.0.1:8000/api/v1/survey/1/

3 - Вопросы к опросникам
Создание (метод POST):
http://127.0.0.1:8000/api/v1/question/

{<br>
    "survey": 1,<br>
    "questtext": "Текст вопроса",<br>
    "questtype": "TX"<br>
}<br>
"questtype" - тип вопроса, возможные варианты: 'TX' (Ответ текстом'), 'SC' (Ответ с выбором одного варианта), 'MC' ('Множественный выбор')

Изменение (метод PUT)
http://127.0.0.1:8000/api/v1/question/1/

{<br>
    "survey": 1,<br>
    "questtext": "Столица нашей родины",<br>
    "questtype": "TX"<br>
}

Удаление (метод DELETE)
http://127.0.0.1:8000/api/v1/question/2/

4 - Ответы по вопросы опросника
Создание (метод POST):
http://127.0.0.1:8000/api/v1/answer/

{<br>
    "question": 1,<br>
    "answertext": "Москва",<br>
    "isCorrect": true<br>
}<br>

Если ранее выбран тип вопроса 'TX' (Ответ текстом') доступенно добавление только одного ответа.
НА все остальные типы, неограниченное количество. 
При добавлении ответовзмо на тип 'SC' (Ответ с выбором одного варианта) возможно добавление только одного элемента со значение "isCorrect": true.
На тип 'MC' ('Множественный выбор') ограничений нет.

Изменение (метод PUT)
http://127.0.0.1:8000/api/v1/answer/1/

{<br>
    "question": 1,<br>
    "answertext": "Москва",<br>
    "isCorrect": true<br>
}<br>

Удаление (метод DELETE)
http://127.0.0.1:8000/api/v1/answer/2/

5 - Ответы на вопросы пользователем
Список всех доступных опросников доступен 
http://127.0.0.1:8000/api/v1/surveylist/

http://127.0.0.1:8000/api/v1/useranswer/
чтоб начать, необходимо либо авторизоваться (описанно выше) ли ввести придуманный ID пользователя, по которому можно будет посмотреть результаты опроса. Номер опросника (pk из surveylist), который хотите пройти

{<br>
    "survey": 1,<br>
    "userid": 100<br>
}

В ответ, API вернет первый вопрос опросника. 

Для ответа отправляем методом пост POST 
http://127.0.0.1:8000/api/v1/useranswer/
с таким примерно телом:

{<br>
    "survey": 1,<br>
    "userid": 100,<br>
    "question": 4<br>
    "answer": "Текст или ID или серия ID ответов через запятую"<br>
}

По окончанию количества вопросов, API вернет об этом сообщение

6 - Просмотр пройденных опросов
В случае авторизованного пользователя, API венет все опросники пользователя. 
http://127.0.0.1:8000/api/v1/result/

Для просмотра анонимных опросников необходимо в конец строки запроса добавить свой придуманный ранее ID
http://127.0.0.1:8000/api/v1/result/100/
